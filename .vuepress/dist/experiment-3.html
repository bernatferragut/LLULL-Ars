<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Llullian Art | DOT-MATRIX</title>
    <meta name="description" content="Llullian Art with P5.js by Bernat Ferragut">
    
    
    <link rel="preload" href="/assets/css/5.styles.e0f4f771.css" as="style"><link rel="preload" href="/assets/js/app.d3cf73a8.js" as="script"><link rel="preload" href="/assets/js/1.b3b4b675.js" as="script"><link rel="prefetch" href="/assets/js/0.dcb6cab8.js"><link rel="prefetch" href="/assets/js/2.a84c93cc.js"><link rel="prefetch" href="/assets/js/3.2d4484e6.js"><link rel="prefetch" href="/assets/js/4.fe246889.js">
    <link rel="stylesheet" href="/assets/css/5.styles.e0f4f771.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Llullian Art
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Start</a></div><div class="nav-item"><a href="/introduction.html" class="nav-link">Introduction</a></div><div class="nav-item"><a href="/experiment-1.html" class="nav-link">Experiments</a></div><div class="nav-item"><a href="https://p5js.org/es/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  P5JS-Reference
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Start</a></div><div class="nav-item"><a href="/introduction.html" class="nav-link">Introduction</a></div><div class="nav-item"><a href="/experiment-1.html" class="nav-link">Experiments</a></div><div class="nav-item"><a href="https://p5js.org/es/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  P5JS-Reference
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><a href="/introduction.html" class="sidebar-link">llullian art</a></li><li><a href="/experiment-1.html" class="sidebar-link">experiment-1</a></li><li><a href="/experiment-2.html" class="sidebar-link">experiment-2</a></li><li><a href="/experiment-3.html" class="active sidebar-link">experiment-3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/experiment-3.html#matrix-creation" class="sidebar-link">Matrix creation</a></li><li class="sidebar-sub-header"><a href="/experiment-3.html#matrix-experiment-1" class="sidebar-link">Matrix experiment-1</a></li><li class="sidebar-sub-header"><a href="/experiment-3.html#matrix-experiment-2" class="sidebar-link">matrix experiment-2</a></li><li class="sidebar-sub-header"><a href="/experiment-3.html#matrix-experiment-3" class="sidebar-link">matrix experiment-3</a></li></ul></li></ul></div><div class="page"><div class="content"><h1 id="dot-matrix"><a href="#dot-matrix" aria-hidden="true" class="header-anchor">#</a> DOT-MATRIX</h1><h2 id="matrix-creation"><a href="#matrix-creation" aria-hidden="true" class="header-anchor">#</a> Matrix creation</h2><p>Now we understand how to create a row and how we can control each of the dot objects individually. We do it by creating a list of their spacial positions and then calling individually each of the functions to perform actions on them.</p><p>Creating a 2d Matrix of dots is the natural evloution.</p><p>We will nest inside the first row loop another loop reperesanting our columns. That way we will have the control to create as many dots as we wish in our canvas and the power to control them individually.</p><p>Once the Matrix is defined, we will be able to recall the different methods we created in the past and any new one that can help us go in any new direction we wish to take.</p><p><a href="https://editor.p5js.org/bernatferragut/sketches/rJVqwSqFQ" target="_blank" rel="noopener noreferrer">GO TO EDITOR<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><iframe frameborder="0" border="0" cellspacing="0" src="https://editor.p5js.org/embed/rJVqwSqFQ" style="\nwidth: 732px; \nheight: 250px; \nborder: 4px solid #000000;\nborder-radius: 6px;\noverflow: hidden;\nposition: relative;"></iframe><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Slider s for Size'</span>

<span class="token comment">// canvas pararms</span>
<span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token number">732</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token number">250</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// dot</span>
<span class="token keyword">let</span> dot<span class="token punctuation">;</span>
<span class="token comment">// slider params</span>
<span class="token keyword">let</span> spacing <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dotList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// canvas</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// sliders</span>
  s_size <span class="token operator">=</span> <span class="token function">createSlider</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s_size<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// dotList creation</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> spacing <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> w<span class="token punctuation">;</span> x <span class="token operator">+=</span> spacing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> spacing <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> h<span class="token punctuation">;</span> y <span class="token operator">+=</span> spacing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dotList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// sliders control</span>
  <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s <span class="token operator">=</span> s_size<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// dotList mapping actions</span>
  dotList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dot<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    dot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Dot object</span>
<span class="token keyword">class</span> <span class="token class-name">Dot</span> <span class="token punctuation">{</span>
  <span class="token comment">// class attributes</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> s <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// class methods </span>
  <span class="token function">on</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// here we pass the size parameter to affect this method</span>
    <span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token string">'white'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="matrix-experiment-1"><a href="#matrix-experiment-1" aria-hidden="true" class="header-anchor">#</a> Matrix experiment-1</h2><ul><li>We apply the random method to the matrix.</li><li>We play with size, x, y and transparency to create a special effect</li><li>We add sliders and button to reset to default position</li></ul><p><a href="https://editor.p5js.org/bernatferragut/sketches/B17BydaY7" target="_blank" rel="noopener noreferrer">GO TO EDITOR<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><iframe frameborder="0" border="0" cellspacing="0" src="https://editor.p5js.org/embed/B17BydaY7" style="\nwidth: 732px; \nheight: 250px; \nborder: 4px solid #000000;\nborder-radius: 6px;\noverflow: hidden;\nposition: relative;"></iframe><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 *  Re-group the array of FFT bins into an
 *  array of more meaningful values
 *  using the splitOctaves method.
 */</span>

<span class="token keyword">var</span> source<span class="token punctuation">,</span> fft<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span>windowWidth<span class="token punctuation">,</span> windowHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">noFill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">p5<span class="token punctuation">.</span>AudioIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  fft <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">p5<span class="token punctuation">.</span>FFT</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  fft<span class="token punctuation">.</span><span class="token function">setInput</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> spectrum <span class="token operator">=</span> fft<span class="token punctuation">.</span><span class="token function">analyze</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> newBuffer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// scaledSpectrum is a new, smaller array of more meaningful values</span>
  <span class="token keyword">var</span> scaledSpectrum <span class="token operator">=</span> <span class="token function">splitOctaves</span><span class="token punctuation">(</span>spectrum<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> scaledSpectrum<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token comment">// draw shape</span>
  <span class="token function">beginShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// one at the far corner</span>
    <span class="token function">curveVertex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token function">smoothPoint</span><span class="token punctuation">(</span>scaledSpectrum<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">curveVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// one last point at the end</span>
    <span class="token function">curveVertex</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">endShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/**
 *  Divides an fft array into octaves with each
 *  divided by three, or by a specified &quot;slicesPerOctave&quot;.
 *  
 *  There are 10 octaves in the range 20 - 20,000 Hz,
 *  so this will result in 10 * slicesPerOctave + 1
 *
 *  @method splitOctaves
 *  @param {Array} spectrum Array of fft.analyze() values
 *  @param {Number} [slicesPerOctave] defaults to thirds
 *  @return {Array} scaledSpectrum array of the spectrum reorganized by division
 *                                 of octaves
 */</span>
<span class="token keyword">function</span> <span class="token function">splitOctaves</span><span class="token punctuation">(</span>spectrum<span class="token punctuation">,</span> slicesPerOctave<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> scaledSpectrum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> spectrum<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token comment">// default to thirds</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> slicesPerOctave<span class="token operator">||</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> nthRootOfTwo <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">/</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// the last N bins get their own </span>
  <span class="token keyword">var</span> lowestBin <span class="token operator">=</span> slicesPerOctave<span class="token punctuation">;</span>

  <span class="token keyword">var</span> binIndex <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> binIndex<span class="token punctuation">;</span>


  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> lowestBin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> nextBinIndex <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span> binIndex<span class="token operator">/</span>nthRootOfTwo <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextBinIndex <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> numBins <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// add up all of the values for the frequencies</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> binIndex<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> nextBinIndex<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      total <span class="token operator">+=</span> spectrum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      numBins<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// divide total sum by number of bins</span>
    <span class="token keyword">var</span> energy <span class="token operator">=</span> total<span class="token operator">/</span>numBins<span class="token punctuation">;</span>
    scaledSpectrum<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>energy<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// keep the loop going</span>
    binIndex <span class="token operator">=</span> nextBinIndex<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// add the lowest bins at the end</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    scaledSpectrum<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>spectrum<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// reverse so that array has same order as original array (low to high frequencies)</span>
  scaledSpectrum<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> scaledSpectrum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// average a point in an array with its neighbors</span>
<span class="token keyword">function</span> <span class="token function">smoothPoint</span><span class="token punctuation">(</span>spectrum<span class="token punctuation">,</span> index<span class="token punctuation">,</span> numberOfNeighbors<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// default to 2 neighbors on either side</span>
  <span class="token keyword">var</span> neighbors <span class="token operator">=</span> numberOfNeighbors <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> spectrum<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token keyword">var</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// start below the index</span>
  <span class="token keyword">var</span> indexMinusNeighbors <span class="token operator">=</span> index <span class="token operator">-</span> neighbors<span class="token punctuation">;</span>
  <span class="token keyword">var</span> smoothedPoints <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> indexMinusNeighbors<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>index<span class="token operator">+</span>neighbors<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// if there is a point at spectrum[i], tally it</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>spectrum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      val <span class="token operator">+=</span> spectrum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      smoothedPoints<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  val <span class="token operator">=</span> val<span class="token operator">/</span>smoothedPoints<span class="token punctuation">;</span>

  <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="matrix-experiment-2"><a href="#matrix-experiment-2" aria-hidden="true" class="header-anchor">#</a> matrix experiment-2</h2><blockquote><p>matrix training</p></blockquote><ul><li>Variation with slight size variation based on the sin() function.</li><li>Random color in the grey scale for blinking light effects.</li></ul><p><a href="https://editor.p5js.org/bernatferragut/sketches/Hy437sycQ" target="_blank" rel="noopener noreferrer">GO TO EDITOR<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><iframe frameborder="0" border="0" cellspacing="0" src="https://editor.p5js.org/embed/Hy437sycQ" style="\nwidth: 732px; \nheight: 250px; \nborder: 4px solid #000000;\nborder-radius: 6px;\noverflow: hidden;\nposition: relative;"></iframe><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Slider s for Size'</span>
<span class="token comment">// Slider rnd for Random'</span>
<span class="token comment">// Slider alph for 'Alpha'</span>
<span class="token comment">// Reset buttons to restart default params</span>

<span class="token comment">// canvas pararms</span>
<span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token number">732</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token number">250</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// dot</span>
<span class="token keyword">let</span> dot<span class="token punctuation">;</span>
<span class="token comment">// slider params</span>
<span class="token keyword">let</span> spacing <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dotList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> rnd <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> alph <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Matrix creation function</span>
<span class="token keyword">function</span> <span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  dotList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//  reset the list</span>
  s_rnd<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s_alph<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// dotList creation</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> spacing <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> w<span class="token punctuation">;</span> x <span class="token operator">+=</span> spacing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> spacing <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> h<span class="token punctuation">;</span> y <span class="token operator">+=</span> spacing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dotList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// canvas</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// sliders</span>
  s_rnd <span class="token operator">=</span> <span class="token function">createSlider</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s_rnd<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">05</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s_alph <span class="token operator">=</span> <span class="token function">createSlider</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s_alph<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// buttons</span>
  b_reset <span class="token operator">=</span> <span class="token function">createButton</span><span class="token punctuation">(</span><span class="token string">'reset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  b_reset<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">225</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> alph<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// sliders control</span>
  <span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'rnd'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  rnd <span class="token operator">=</span> s_rnd<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  alph <span class="token operator">=</span> s_alph<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// button</span>
  b_reset<span class="token punctuation">.</span><span class="token function">mousePressed</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// dotList mapping actions</span>
  dotList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dot<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    s <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span>frameCount <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>
    dot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dot<span class="token punctuation">.</span><span class="token function">randomness</span><span class="token punctuation">(</span>rnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Dot object</span>
<span class="token keyword">class</span> <span class="token class-name">Dot</span> <span class="token punctuation">{</span>
  <span class="token comment">// class attributes</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> s <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// class methods </span>
  <span class="token function">on</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// here we pass the size parameter to affect this method</span>
    <span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">randomness</span><span class="token punctuation">(</span>rnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span>rnd<span class="token punctuation">,</span> rnd<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span>rnd<span class="token punctuation">,</span> rnd<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token comment">// this.x += random(-rnd, rnd) + sin(frameCount) * 10;</span>
    <span class="token comment">// this.y += random(-rnd, rnd) + sin(frameCount) * 20;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="matrix-experiment-3"><a href="#matrix-experiment-3" aria-hidden="true" class="header-anchor">#</a> matrix experiment-3</h2><blockquote><p>desktop modulo cycle</p></blockquote><ul><li>We apply the random method to the matrix.</li><li>We play with the translate and modulo cycle in both axis.</li></ul><p><a href="https://editor.p5js.org/bernatferragut/sketches/HksUUHe9m" target="_blank" rel="noopener noreferrer">GO TO EDITOR<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><iframe frameborder="0" border="0" cellspacing="0" src="https://editor.p5js.org/embed/HksUUHe9m" style="\nwidth: 732px; \nheight: 900px; \nborder: 4px solid #000000;\nborder-radius: 6px;\noverflow: hidden;\nposition: relative;"></iframe><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Sliders</span>
<span class="token comment">// fx1 to change the modulo effect</span>

<span class="token comment">// canvas vars</span>
<span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token number">732</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token number">900</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> size <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> spacing <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>
<span class="token comment">// dots vars</span>
<span class="token keyword">let</span> dots <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fx1 <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">frameRate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// sliders</span>
  s_fx1 <span class="token operator">=</span> <span class="token function">createSlider</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s_fx1<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// dot matrix generation</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> spacing<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> w<span class="token punctuation">;</span> x <span class="token operator">+=</span> spacing<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> spacing<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> h<span class="token punctuation">;</span> y <span class="token operator">+=</span> spacing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dots<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// background('black');</span>
  <span class="token comment">// sliders</span>
  <span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'fx1'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  fx1 <span class="token operator">=</span> s_fx1<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// col = colors[int(random(6))];</span>
  col <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
  
  dots<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dot<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    dot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dot<span class="token punctuation">.</span><span class="token function">phasing</span><span class="token punctuation">(</span>fx1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// object</span>
<span class="token keyword">class</span> <span class="token class-name">Dot</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">on</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span>
    <span class="token comment">// fill(color(random(255),200));</span>
    <span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>size<span class="token punctuation">,</span>size<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">shake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">circular</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token function">sin</span><span class="token punctuation">(</span>frameCount<span class="token operator">/</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token function">cos</span><span class="token punctuation">(</span>frameCount<span class="token operator">/</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">phasing</span><span class="token punctuation">(</span>fx1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">-=</span> frameCount <span class="token operator">%</span> <span class="token number">5</span><span class="token operator">-</span>fx1<span class="token punctuation">;</span> <span class="token comment">// slider for fx1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> frameCount <span class="token operator">%</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>MIT Licensed | © 2018-2019 Bernat Ferragut All Right Reserved | <a href="http://bernatferragut.com/" target="_blank" rel="noopener noreferrer">bernatferragut.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong></p></div><div class="content edit-link"><!----><!----></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/experiment-2.html" class="prev">
          experiment-2
        </a></span><!----></p></div></div></div></div>
    <script src="/assets/js/1.b3b4b675.js" defer></script><script src="/assets/js/app.d3cf73a8.js" defer></script>
  </body>
</html>
